<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>
    <title>Download Tool V2</title>
    <script type='text/javascript'>
      // // Include version 1 of the base GUI library.
      // document.write('<link rel="import" href="' + window.Alteryx.LibDir + '1/lib/alteryx/gui/includes.html">');
      // Include version 2 of the base GUI library.
      document.write('<link rel="import" href="' + window.Alteryx.LibDir + '2/lib/includes.html">');
    </script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <link rel='stylesheet' href='./assets/styles.css'>
</head>
<body>

  <!-- Http Action Page -->

    <fieldset id='HTTP'>
      <legend>HTTP Action</legend>
      <label>Specify HTTP Action</label>
      <ayx data-ui-props = '{type: "DropDown", widgetId: "HTTPAction"}' data-item-props = '{dataName: "HTTPAction", optionList: [
        {label: "GET", value: "get"},
        {label: "POST", value: "post"},
        {label: "PUT", value: "put"},
        {label: "DELETE", value: "delete"}
        ]}'>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Input URL from a Field", value: "URLField"}, type: "RadioButton", widgetId: "RadioURLDrop"}' data-item-props = '{dataName:"radioURL"}'>
        <div id='urlDrop'>
          <ayx data-ui-props = '{type: "DropDown", widgetId: "URLDrop"}' data-item-props = '{dataName: "URLDrop", dataType: "FieldSelector", fieldType: "String", clearable: true}'></ayx>
        </div>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Enter URL Manually", value: "URLMan"}, type: "RadioButton", widgetId: "RadioURLText"}' data-item-props = '{dataName:"radioURL"}'>
        <div id='urlText'>
          <ayx data-ui-props='{type:"TextBox", widgetId:"URLText"}'  data-item-props = '{dataName: "URLText"}'></ayx>
        </div>
      </ayx>
      <div class="postman-run-button"
      data-postman-action="collection/import"
      data-postman-var-1="ef83a526434ba77779f3"></div>
      <script type='text/javascript'>
        (function (p,o,s,t,m,a,n) {
          !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
          !o.getElementById(s+t) && o.getElementsByTagName('head')[0].appendChild((
            (n = o.createElement('script')),
            (n.id = s+t), (n.async = 1), (n.src = m), n
          ));
        }(window, document, '_pm', 'PostmanRunObject', 'https://run.pstmn.io/button.js'));
      </script>
      <div class='footer_spacer'></div>
      <div class='footer'>
        <hr>
        <div style='margin-top: 8px;margin-bottom: 8px;'>
          <button type='submit' class='nextBtn' id='headersNextBtn' onclick='setPage("#Headers")'>XMSG("Next")</button>
        </div>
        <br>
        <br>
    </fieldset>

<!-- Headers -->

    <fieldset id='Headers' style='display:none;'>
      <legend>Headers</legend>
      <ayx data-ui-props= '{option: {label: "No Headers", value: "noHeaders"}, type: "RadioButton", widgetId: "radioHeaderNo"}' data-item-props = '{dataName:"radioHeaders"}'></ayx>
      <ayx data-ui-props= '{option: {label: "Input Headers from Fields", value: "headerFields"}, type: "RadioButton", widgetId: "radioHeaderFields"}' data-item-props = '{dataName:"radioHeaders"}'>
        <div id='headerListbox' style='margin-left: 28px'>
          <ayx data-ui-props='{type:"ListBox", widgetId:"headerFields"}' data-item-props = '{dataName: "headerFields", dataType: "FieldSelectorMulti"}'></ayx>
        </div>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Input Headers Manually", value: "headersMan"}, type: "RadioButton", widgetId: "radioHeaderMan"}' data-item-props = '{dataName:"radioHeaders"}'>
        <div id='headerText' style='margin-left: 28px'>
          <label>Enter Headers (Name: Value) line by line:</label>
          <ayx data-ui-props='{type:"TextArea", widgetId:"headerTextbox", rows:5}' data-item-props = '{dataName: "headerTextbox"}'></ayx>
        </div>
      </ayx>
      <div class='footer_spacer'></div>
      <div class='footer'>
          <hr>
          <div style='margin-top: 8px;margin-bottom: 8px;'>
              <!-- Add id name and onclick function during process story -->
              <button type='submit' class='nextBtn' id='payloadNextBtn' onclick='setPage("#Payload")'>XMSG("Next")</button>
              <button class='prevBtn' id='HTTPPrevBtn' onclick='setPage("#HTTP")'>XMSG("Previous")</button>
          </div>
          <br>
          <br>
      </div>
    </fieldset>

<!-- Payload -->

    <fieldset id='Payload' style='display:none;'>
      <legend>Payload</legend>
      <ayx data-ui-props= '{option: {label: "No Payload", value: "noPayload"}, type: "RadioButton", widgetId: "radioPayloadNo"}' data-item-props = '{dataName:"radioPayload"}'></ayx>
      <ayx data-ui-props= '{option: {label: "Input Payload from Field", value: "payloadField"}, type: "RadioButton", widgetId: "radioPayloadField"}' data-item-props = '{dataName:"radioPayload"}'>
        <div id='payloadListbox' style='margin-left: 28px'>
          <label>Select Payload Fields</label>
          <ayx data-ui-props='{type:"ListBox", widgetId:"payloadFields"}' data-item-props = '{dataName: "payloadFields", dataType: "FieldSelectorMulti"}'></ayx>
        </div>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Input Payload Manually", value: "payloadMan"}, type: "RadioButton", widgetId: "radioPayloadMan"}' data-item-props = '{dataName:"radioPayload"}'>
        <div id='payloadText' style='margin-left: 28px'>
          <label>Enter Payload String</label>
          <ayx data-ui-props='{type: "TextArea", widgetId: "payloadTextbox", rows:10}' data-item-props = '{dataName: "payloadTextbox"}'> </ayx>
        </div>
      </ayx>
      <div class='footer_spacer'></div>
      <div class='footer'>
          <hr>
          <div style='margin-top: 8px;margin-bottom: 8px;'>
              <!-- Add id name and onclick function during process story -->
              <button type='submit' class='nextBtn' id='credentialsNextBtn' onclick='setPage("#Credentials")'>XMSG("Next")</button>
              <button class='prevBtn' id='headersPrevBtn' onclick='setPage("#Headers")'>XMSG("Previous")</button>
          </div>
          <br>
          <br>
      </div>
    </fieldset>

<!-- Credentials -->

    <fieldset id='Credentials' style='display:none;'>
      <legend>Credentials</legend>
      <ayx data-ui-props= '{option: {label: "No Credentials", value: "noCredentials"}, type: "RadioButton", widgetId: "radioCredentialsNo"}' data-item-props = '{dataName:"radioCredentials"}'></ayx>
      <ayx data-ui-props= '{option: {label: "Input Credentials from Field", value: "credentialsField"}, type: "RadioButton", widgetId: "radioCredentialsField"}' data-item-props = '{dataName:"radioCredentials"}'>
        <div id='credentialsDropdowns' style='margin-left: 28px'>
          <label>Select Username Field</label>
          <ayx data-ui-props = '{type: "DropDown", widgetId: "UserDrop"}' data-item-props = '{dataName: "UserDrop", dataType: "FieldSelector", fieldType: "String", clearable: true}'></ayx>
          <label>Select Password Field</label>
          <ayx data-ui-props = '{type: "DropDown", widgetId: "PassDrop"}' data-item-props = '{dataName: "PassDrop", dataType: "FieldSelector", fieldType: "String", clearable: true}'></ayx>
        </div>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Input Credentials Manually", value: "credentialsMan"}, type: "RadioButton", widgetId: "radioCredentialsMan"}' data-item-props = '{dataName:"radioCredentials"}'>
        <div id='credentialsTextboxes' style='margin-left: 28px'>
          <label>Enter Username</label>
          <ayx data-ui-props='{type:"TextBox", widgetId:"UserText"}' data-item-props = '{dataName: "UserText"}'></ayx>
          <label>Enter Password</label>
          <ayx data-ui-props='{type:"TextBox", widgetId:"PassText"}' data-item-props = '{dataName: "PassText", password: true}'></ayx>
        </div>
      </ayx>
      <ayx data-ui-props= '{option: {label: "Use Windows Authentication", value: "credentialsWinAuth"}, type: "RadioButton", widgetId: "radioCredentialsWinAuth"}' data-item-props = '{dataName:"radioCredentials"}'></ayx>
      <div class='footer_spacer'></div>
      <div class='footer'>
          <hr>
          <div style='margin-top: 8px;margin-bottom: 8px;'>
              <!-- Add id name and onclick function during process story -->
              <button type='submit' class='nextBtn' id='metricsNextBtn' onclick='setPage("#Summary")'>XMSG("Next")</button>
              <button class='prevBtn' id='metricsPrevBtn' onclick='setPage("#Payload")'>XMSG("Previous")</button>
          </div>
          <br>
          <br>
      </div>
    </fieldset>
</body>
<!-- <script type="text/javascript" src=bundle.js>
</script> -->
<script>
const setPage = (fieldsetName) => {
  // Array containing all fieldsets
  let hideArray = [
    '#HTTP',
    '#Headers',
    '#Payload',
    '#Credentials'
  ]

  let showArray = []

  showArray.push(fieldsetName)

  $(document).ready(() => {
    // Hide each item in the hideArray
    hideArray.forEach((v) => {
      $(v).hide()
    })
    // Show the fieldset corresponding with fieldsetName
    showArray.forEach((v) => {
      $(v).show()
    })
  })
}
</script>
</html>
